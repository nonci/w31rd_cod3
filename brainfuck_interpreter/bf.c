/* Compile with: gcc -w bf.c -o bf
 * Execute with:  ./bf <fname> or just with: ./bf
 * In the latter case insert the program code followed by a newline
 * and Ctrl-D, than you can feed the input of the program (if needed).
 */

#define ___6                else
#define __66               break
#define _666             switch(
#define _999                  if
#define __99                 int
#define ___9                char
#define __               ;break;
#define ____              0xEA61
#define _____                 ){
#define ___(_)       case 0x##_:
#define ______           ;while(
main(__99 a,___9**_11){__99 _11_
=5,_111 =!1,_1_1_ =!1;___9 _1_1,
t[____],*_=____/2+t,*_6=malloc (
_11_), *_1=_6,_9=a-1?open(_11[1]
,!1):!1;memset(t,____,!1) ______
read(_9,_1,1))_999(((((*_1>42&&*
_1<47)||*_1==60||*_1==62|| *_1==
91||*_1==93))?++_1:_1)-_6== _11_
)_6=realloc(_6,_11_ *=2),_1= _6+
_11_/ 2;_1 = _6 ______ _1_1= *_1
_____;_666 _1_1 _____ ___(3E)_++
__ ___(3C)_--__ ___(2B)(*_)++ __
___(2D)(*_)--__ ___(2E)write(1,_
,1)__ ___(2C)read(!1,_,1) __ ___
(5B)_999(!*_&&(_1_1_=_111++,++_1
))do _999(!(_1_1_ -(*_1 ==91?++\
_111:(* _1 ==93 ?--_111  :111)))
)__66  ______ ++_1 );___6 _111++
__ ___(5D)_999(*_){_1_1_ =_111--
;_1--______ 1)_999(*_1==91 _____
_999(_1_1_==++_111 )__66 ;_1--;}
___6 _999(*_1--==93)_111--;}___6
_111-- ;}_1++;}free(_6);_999(_9)
close(_9) ;}/* BF interpreter */

